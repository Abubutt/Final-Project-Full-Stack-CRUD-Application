{"ast":null,"code":"var _jsxFileName = \"/Users/anasidrissou/Developer/csci_39548/Final-Project-Full-Stack-CRUD-Application-FrontEnd/src/components/containers/EditStudentContainer.js\";\nimport { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport { EditStudentView } from '../views';\nimport { addStudentThunk, fetchStudentThunk, editStudentThunk, deleteStudentThunk } from '../../store/thunks';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass EditStudentContainer extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.handleSubmit = async event => {\n      event.preventDefault();\n      let editedStudent = {\n        firstname: this.state.firstname,\n        lastname: this.state.lastname,\n        email: this.state.email,\n        gpa: this.state.gpa,\n        campusId: this.state.campusId,\n        id: window.location.pathname.slice(-1)\n      };\n      await this.props.editStudent(editedStudent);\n      this.setState({\n        firstname: \"\",\n        lastname: \"\",\n        email: \"\",\n        gpa: 0,\n        campusId: null,\n        redirect: true,\n        redirectId: window.location.pathname.slice(-1)\n      });\n    };\n\n    this.state = {\n      firstname: \"\",\n      lastname: \"\",\n      email: \"\",\n      gpa: 0.0,\n      campusId: null,\n      redirect: false,\n      redirectId: null\n    };\n  }\n\n  componentDidMount() {\n    this.props.fetchStudent(window.location.pathname.slice(-1));\n    this.setState({\n      firstname: this.props.student.firstname,\n      lastname: this.props.student.lastname,\n      email: this.props.student.email,\n      gpa: this.props.student.gpa,\n      campusId: this.props.student.campusId,\n      redirect: false,\n      redirectId: null\n    });\n  }\n\n  componentWillUnmount() {\n    this.setState({\n      redirect: false,\n      redirectId: null\n    });\n  }\n\n  render() {\n    if (this.state.redirect) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: `/student/${this.state.redirectId}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 19\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(EditStudentView, {\n      student: this.props.student,\n      editStudent: this.props.editStudent,\n      deleteStudent: this.props.deleteStudent,\n      fetchStudent: this.props.fetchStudent,\n      handleChange: this.handleChange,\n      handleSubmit: this.handleSubmit\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }, this);\n  }\n\n}\n\nconst mapState = state => {\n  return {\n    student: state.student\n  };\n};\n\nconst mapDispatch = dispatch => {\n  return {\n    editStudent: student => dispatch(editStudentThunk(student)),\n    fetchStudent: student => dispatch(fetchStudentThunk(student)),\n    deleteStudent: student => dispatch(deleteStudentThunk(student)),\n    addStudent: student => dispatch(addStudentThunk(student))\n  };\n};\n\nexport default connect(mapState, mapDispatch)(EditStudentContainer);","map":{"version":3,"names":["Component","connect","Redirect","EditStudentView","addStudentThunk","fetchStudentThunk","editStudentThunk","deleteStudentThunk","EditStudentContainer","constructor","props","handleChange","event","setState","target","name","value","handleSubmit","preventDefault","editedStudent","firstname","state","lastname","email","gpa","campusId","id","window","location","pathname","slice","editStudent","redirect","redirectId","componentDidMount","fetchStudent","student","componentWillUnmount","render","deleteStudent","mapState","mapDispatch","dispatch","addStudent"],"sources":["/Users/anasidrissou/Developer/csci_39548/Final-Project-Full-Stack-CRUD-Application-FrontEnd/src/components/containers/EditStudentContainer.js"],"sourcesContent":["import { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport { EditStudentView } from '../views';\nimport { addStudentThunk, fetchStudentThunk, editStudentThunk, deleteStudentThunk } from '../../store/thunks';\n\nclass EditStudentContainer extends Component {\n    constructor(props){\n        super(props);\n        this.state =\n        {\n          firstname: \"\",\n          lastname: \"\", \n          email: \"\",\n          gpa: 0.0,\n          campusId: null, \n          redirect: false, \n          redirectId: null\n        };\n    }\n\n    componentDidMount() {\n        this.props.fetchStudent(window.location.pathname.slice(-1));\n\n        this.setState({\n          firstname: this.props.student.firstname,\n          lastname: this.props.student.lastname,\n          email: this.props.student.email,\n          gpa: this.props.student.gpa,\n          campusId: this.props.student.campusId,\n          redirect: false, \n          redirectId: null\n        })\n    }\n \n    handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    }\n\n    handleSubmit = async event => {\n        event.preventDefault();\n\n        let editedStudent = {\n            firstname: this.state.firstname,\n            lastname: this.state.lastname,\n            email: this.state.email,\n            gpa: this.state.gpa,\n            campusId: this.state.campusId,\n            id: window.location.pathname.slice(-1)\n        };\n\n        await this.props.editStudent(editedStudent);\n\n        this.setState({\n          firstname: \"\", \n          lastname: \"\", \n          email: \"\",\n          gpa: 0,\n          campusId: null, \n          redirect: true, \n          redirectId: window.location.pathname.slice(-1)\n        });\n    }\n\n    componentWillUnmount() {\n        this.setState({redirect: false, redirectId: null});\n    }\n\n    render() {\n        if(this.state.redirect) {\n          return (<Redirect to={`/student/${this.state.redirectId}`}/>)\n        }\n        return (\n          <EditStudentView \n            student = {this.props.student}\n            editStudent = {this.props.editStudent}\n            deleteStudent = {this.props.deleteStudent}\n            fetchStudent = {this.props.fetchStudent}\n            handleChange = {this.handleChange} \n            handleSubmit = {this.handleSubmit}      \n          />\n        );\n    }\n}\n\nconst mapState = (state) => {\n    return {\n      student: state.student,\n    };\n  };\n\nconst mapDispatch = (dispatch) => {\n    return({\n        editStudent: (student) => dispatch(editStudentThunk(student)),\n        fetchStudent: (student) => dispatch(fetchStudentThunk(student)),\n        deleteStudent: (student) => dispatch(deleteStudentThunk(student)),\n        addStudent: (student) => dispatch(addStudentThunk(student)),\n    })\n}\n\nexport default connect(mapState, mapDispatch)(EditStudentContainer);"],"mappings":"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"},"metadata":{},"sourceType":"module"}