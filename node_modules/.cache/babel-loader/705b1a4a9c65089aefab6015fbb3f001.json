{"ast":null,"code":"var _jsxFileName = \"/Users/anasidrissou/Developer/csci_39548/Final-Project-Full-Stack-CRUD-Application-FrontEnd/src/components/containers/EditCampusContainer.js\";\nimport { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport { EditCampusView } from '../views';\nimport { editCampusThunk, fetchCampusThunk } from '../../store/thunks';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass EditCampusContainer extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.handleSubmit = async event => {\n      event.preventDefault();\n      let editedCampus = {\n        name: this.state.name,\n        imageUrl: this.state.imageURL,\n        address: this.state.address,\n        description: this.state.description,\n        id: window.location.pathname.slice(-1)\n      };\n      await this.props.editCampus(editedCampus);\n      this.setState({\n        name: \"\",\n        imageUrl: \"https://institute.careerguide.com/wp-content/uploads/2020/07/14up-colleges-remote-facebookJumbo-1024x536.jpg\",\n        address: null,\n        description: null,\n        redirect: true,\n        redirectId: window.location.pathname.slice(-1)\n      });\n    };\n\n    this.state = {\n      name: \"\",\n      imageUrl: \"\",\n      address: \"\",\n      description: null,\n      redirect: false,\n      redirectId: null,\n      id: null\n    };\n  }\n\n  componentDidMount() {\n    this.props.fetchCampus(window.location.pathname.slice(-1));\n    this.setState({\n      name: this.props.campus.name,\n      imageUrl: this.props.campus.imageUrl,\n      address: this.props.campus.address,\n      description: this.props.campus.description,\n      redirect: false,\n      redirectId: null,\n      id: this.props.campus.id\n    });\n  }\n\n  componentWillUnmount() {\n    this.setState({\n      redirect: false,\n      redirectId: null\n    });\n  }\n\n  render() {\n    if (this.state.redirect) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: `/campus/${this.state.redirectId}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 19\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(EditCampusView, {\n      handleChange: this.handleChange,\n      handleSubmit: this.handleSubmit,\n      campus: this.props.campus,\n      editCampus: this.props.editCampus,\n      fetchCampus: this.props.fetchCampus\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }, this);\n  }\n\n}\n\nconst mapState = state => {\n  return {\n    campus: state.campus\n  };\n};\n\nconst mapDispatch = dispatch => {\n  return {\n    editCampus: campus => dispatch(editCampusThunk(campus)),\n    fetchCampus: campus => dispatch(fetchCampusThunk(campus))\n  };\n};\n\nexport default connect(mapState, mapDispatch)(EditCampusContainer);","map":{"version":3,"names":["Component","connect","Redirect","EditCampusView","editCampusThunk","fetchCampusThunk","EditCampusContainer","constructor","props","handleChange","event","setState","target","name","value","handleSubmit","preventDefault","editedCampus","state","imageUrl","imageURL","address","description","id","window","location","pathname","slice","editCampus","redirect","redirectId","componentDidMount","fetchCampus","campus","componentWillUnmount","render","mapState","mapDispatch","dispatch"],"sources":["/Users/anasidrissou/Developer/csci_39548/Final-Project-Full-Stack-CRUD-Application-FrontEnd/src/components/containers/EditCampusContainer.js"],"sourcesContent":["import { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport { EditCampusView } from '../views';\nimport { editCampusThunk, fetchCampusThunk } from '../../store/thunks';\n\n\nclass EditCampusContainer extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n          name: \"\", \n          imageUrl: \"\",\n          address: \"\",\n          description: null,\n          redirect: false, \n          redirectId: null,\n          id: null\n        };\n    }\n\n    componentDidMount() {\n        this.props.fetchCampus(window.location.pathname.slice(-1));\n\n        this.setState({\n          name: this.props.campus.name,\n          imageUrl:this.props.campus.imageUrl,\n          address: this.props.campus.address,\n          description: this.props.campus.description,\n          redirect: false, \n          redirectId: null,\n          id: this.props.campus.id\n        })\n    }\n\n    handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    }\n\n    handleSubmit = async event => {\n        event.preventDefault();\n\n        let editedCampus = {\n            name: this.state.name,\n            imageUrl: this.state.imageURL,\n            address: this.state.address,\n            description: this.state.description,\n            id: window.location.pathname.slice(-1)\n        };\n        \n        await this.props.editCampus(editedCampus);\n\n        this.setState({\n          name: \"\", \n          imageUrl: \"https://institute.careerguide.com/wp-content/uploads/2020/07/14up-colleges-remote-facebookJumbo-1024x536.jpg\",\n          address: null,\n          description: null,\n          redirect: true, \n          redirectId: window.location.pathname.slice(-1)\n        });\n    }\n\n    componentWillUnmount() {\n        this.setState({redirect: false, redirectId: null});\n    }\n\n    render() {\n        if(this.state.redirect) {\n          return (<Redirect to={`/campus/${this.state.redirectId}`}/>)\n        }\n        return (\n          <EditCampusView \n            handleChange = {this.handleChange} \n            handleSubmit={this.handleSubmit}  \n            campus={this.props.campus}\n            editCampus={this.props.editCampus}  \n            fetchCampus={this.props.fetchCampus}  \n          />\n        );\n    }\n}\n\nconst mapState = (state) => {\n    return {\n      campus: state.campus,\n    };\n  };\n\nconst mapDispatch = (dispatch) => {\n    return({\n        editCampus: (campus) => dispatch(editCampusThunk(campus)),\n        fetchCampus: (campus) => dispatch(fetchCampusThunk(campus)),\n    })\n}\n\nexport default connect(mapState, mapDispatch)(EditCampusContainer);"],"mappings":"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"},"metadata":{},"sourceType":"module"}